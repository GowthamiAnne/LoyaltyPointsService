2026-01-02 14:07:27.304 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-02 14:07:28.162 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53347
2026-01-02 14:07:28.164 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53350
2026-01-02 14:07:28.990 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:07:29.009 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:28 GMT] "POST /v1/points/quote HTTP/1.1" 200 103 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:29.009 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1000 total points
2026-01-02 14:07:29.121 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53352
2026-01-02 14:07:29.122 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53355
2026-01-02 14:07:29.130 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:07:29.130 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:29.131 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1300 total points
2026-01-02 14:07:29.147 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53357
2026-01-02 14:07:29.148 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53360
2026-01-02 14:07:29.156 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:07:29.156 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:29.156 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:07:29.180 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53362
2026-01-02 14:07:29.181 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53365
2026-01-02 14:07:29.189 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 2000.0 USD in FIRST
2026-01-02 14:07:29.189 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 106 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:29.189 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 3000 total points
2026-01-02 14:07:29.564 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53367
2026-01-02 14:07:29.564 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53370
2026-01-02 14:07:29.586 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:07:29.586 [vert.x-eventloop-thread-0] DEBUG c.a.l.service.PromoServiceClient - Fetching promo details for code: INACTIVE
2026-01-02 14:07:29.702 [vert.x-eventloop-thread-0] INFO  c.a.l.service.PromoServiceClient - Promo details retrieved: INACTIVE
2026-01-02 14:07:29.702 [vert.x-eventloop-thread-0] INFO  c.a.l.s.PointsCalculationService - Promo INACTIVE is inactive
2026-01-02 14:07:29.703 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 121 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:29.703 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1300 total points
2026-01-02 14:07:29.727 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53373
2026-01-02 14:07:29.727 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53376
2026-01-02 14:07:29.735 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:07:29.735 [vert.x-eventloop-thread-0] DEBUG c.a.l.service.PromoServiceClient - Fetching promo details for code: OLDPROMO
2026-01-02 14:07:29.738 [vert.x-eventloop-thread-0] INFO  c.a.l.service.PromoServiceClient - Promo details retrieved: OLDPROMO
2026-01-02 14:07:29.739 [vert.x-eventloop-thread-0] INFO  c.a.l.s.PointsCalculationService - Promo OLDPROMO has expired
2026-01-02 14:07:29.740 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 120 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:29.740 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:07:29.768 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53379
2026-01-02 14:07:29.768 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53382
2026-01-02 14:07:29.776 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 2000.0 USD in INVALID_CLASS
2026-01-02 14:07:29.776 [vert.x-eventloop-thread-0] WARN  c.a.l.handler.PointsQuoteHandler - Validation error: Invalid cabin class: INVALID_CLASS
2026-01-02 14:07:29.778 [vert.x-eventloop-thread-0] WARN  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:29 GMT] "POST /v1/points/quote HTTP/1.1" 400 117 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:29.799 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53384
2026-01-02 14:07:29.799 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53387
2026-01-02 14:07:29.806 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 2000.0 USD in ECONOMY
2026-01-02 14:07:29.806 [vert.x-eventloop-thread-0] WARN  c.a.l.handler.PointsQuoteHandler - Validation error: Invalid customer tier: INVALID_CLASS
2026-01-02 14:07:29.807 [vert.x-eventloop-thread-0] WARN  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:29 GMT] "POST /v1/points/quote HTTP/1.1" 400 119 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:29.826 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53389
2026-01-02 14:07:29.827 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53392
2026-01-02 14:07:29.834 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1234.5 USD in ECONOMY
2026-01-02 14:07:29.834 [vert.x-eventloop-thread-0] DEBUG c.a.l.service.PromoServiceClient - Fetching promo details for code: SUMMER25
2026-01-02 14:07:29.838 [vert.x-eventloop-thread-0] INFO  c.a.l.service.PromoServiceClient - Promo details retrieved: SUMMER25
2026-01-02 14:07:29.838 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 107 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:29.838 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1727 total points
2026-01-02 14:07:29.885 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53395
2026-01-02 14:07:29.885 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53398
2026-01-02 14:07:29.892 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:07:29.892 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:29.892 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:07:29.911 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53400
2026-01-02 14:07:29.912 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53403
2026-01-02 14:07:29.918 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:07:29.919 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 103 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:29.919 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1000 total points
2026-01-02 14:07:29.941 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53405
2026-01-02 14:07:29.942 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53408
2026-01-02 14:07:29.948 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 EUR in BUSINESS
2026-01-02 14:07:29.948 [vert.x-eventloop-thread-0] DEBUG c.a.loyalty.service.FxServiceClient - Fetching FX rate EUR -> USD (attempt 1)
2026-01-02 14:07:29.958 [vert.x-eventloop-thread-0] INFO  c.a.loyalty.service.FxServiceClient - FX rate retrieved: EUR -> USD = 1.1
2026-01-02 14:07:29.958 [vert.x-eventloop-thread-0] DEBUG c.a.l.service.PromoServiceClient - Fetching promo details for code: NONE
2026-01-02 14:07:29.961 [vert.x-eventloop-thread-0] INFO  c.a.l.service.PromoServiceClient - Promo code not found: NONE
2026-01-02 14:07:29.961 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:29.961 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1430 total points
2026-01-02 14:07:29.994 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53412
2026-01-02 14:07:29.995 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53415
2026-01-02 14:07:30.001 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 EUR in ECONOMY
2026-01-02 14:07:30.001 [vert.x-eventloop-thread-0] DEBUG c.a.loyalty.service.FxServiceClient - Fetching FX rate EUR -> USD (attempt 1)
2026-01-02 14:07:30.004 [vert.x-eventloop-thread-0] WARN  c.a.loyalty.service.FxServiceClient - FX service call failed, retrying... (FX service returned status 500)
2026-01-02 14:07:30.004 [vert.x-eventloop-thread-0] DEBUG c.a.loyalty.service.FxServiceClient - Fetching FX rate EUR -> USD (attempt 2)
2026-01-02 14:07:30.006 [vert.x-eventloop-thread-0] WARN  c.a.loyalty.service.FxServiceClient - FX service call failed, retrying... (FX service returned status 500)
2026-01-02 14:07:30.007 [vert.x-eventloop-thread-0] DEBUG c.a.loyalty.service.FxServiceClient - Fetching FX rate EUR -> USD (attempt 3)
2026-01-02 14:07:30.008 [vert.x-eventloop-thread-0] ERROR c.a.loyalty.service.FxServiceClient - FX service call failed after 3 attempts
com.airline.loyalty.exception.ExternalServiceException: FX service returned status 500
	at com.airline.loyalty.service.FxServiceClient.lambda$getExchangeRateWithRetry$0(FxServiceClient.java:66)
	at io.vertx.core.impl.future.Composition.onSuccess(Composition.java:38)
	at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:66)
	at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:246)
	at io.vertx.core.impl.future.PromiseImpl.onSuccess(PromiseImpl.java:49)
	at io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:41)
	at io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:23)
	at io.vertx.ext.web.client.impl.HttpContext.handleDispatchResponse(HttpContext.java:397)
	at io.vertx.ext.web.client.impl.HttpContext.execute(HttpContext.java:384)
	at io.vertx.ext.web.client.impl.HttpContext.next(HttpContext.java:362)
	at io.vertx.ext.web.client.impl.HttpContext.fire(HttpContext.java:329)
	at io.vertx.ext.web.client.impl.HttpContext.dispatchResponse(HttpContext.java:291)
	at io.vertx.ext.web.client.impl.HttpContext.lambda$null$7(HttpContext.java:507)
	at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:276)
	at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:258)
	at io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:56)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-01-02 14:07:30.010 [vert.x-eventloop-thread-0] ERROR c.a.l.handler.PointsQuoteHandler - Unexpected error processing points quote
com.airline.loyalty.exception.ExternalServiceException: Failed to fetch exchange rate after 3 attempts
	at com.airline.loyalty.service.FxServiceClient.lambda$getExchangeRateWithRetry$1(FxServiceClient.java:77)
	at io.vertx.core.impl.future.Composition.onFailure(Composition.java:50)
	at io.vertx.core.impl.future.FutureBase.emitFailure(FutureBase.java:81)
	at io.vertx.core.impl.future.FutureImpl.tryFail(FutureImpl.java:265)
	at io.vertx.core.impl.future.Composition$1.onFailure(Composition.java:66)
	at io.vertx.core.impl.future.FutureBase.emitFailure(FutureBase.java:81)
	at io.vertx.core.impl.future.FailedFuture.addListener(FailedFuture.java:98)
	at io.vertx.core.impl.future.Composition.onSuccess(Composition.java:43)
	at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:66)
	at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:246)
	at io.vertx.core.impl.future.PromiseImpl.onSuccess(PromiseImpl.java:49)
	at io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:41)
	at io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:23)
	at io.vertx.ext.web.client.impl.HttpContext.handleDispatchResponse(HttpContext.java:397)
	at io.vertx.ext.web.client.impl.HttpContext.execute(HttpContext.java:384)
	at io.vertx.ext.web.client.impl.HttpContext.next(HttpContext.java:362)
	at io.vertx.ext.web.client.impl.HttpContext.fire(HttpContext.java:329)
	at io.vertx.ext.web.client.impl.HttpContext.dispatchResponse(HttpContext.java:291)
	at io.vertx.ext.web.client.impl.HttpContext.lambda$null$7(HttpContext.java:507)
	at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:276)
	at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:258)
	at io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:56)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.airline.loyalty.exception.ExternalServiceException: FX service returned status 500
	at com.airline.loyalty.service.FxServiceClient.lambda$getExchangeRateWithRetry$0(FxServiceClient.java:66)
	at io.vertx.core.impl.future.Composition.onSuccess(Composition.java:38)
	... 22 common frames omitted
2026-01-02 14:07:30.011 [vert.x-eventloop-thread-0] ERROR i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "POST /v1/points/quote HTTP/1.1" 500 122 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.036 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53418
2026-01-02 14:07:30.037 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53421
2026-01-02 14:07:30.048 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "GET /health HTTP/1.1" 200 41 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.075 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53423
2026-01-02 14:07:30.076 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53426
2026-01-02 14:07:30.082 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 0.0 USD in ECONOMY
2026-01-02 14:07:30.082 [vert.x-eventloop-thread-0] WARN  c.a.l.handler.PointsQuoteHandler - Validation error: Fare amount must be greater than zero
2026-01-02 14:07:30.082 [vert.x-eventloop-thread-0] WARN  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "POST /v1/points/quote HTTP/1.1" 400 120 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.102 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53428
2026-01-02 14:07:30.103 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53431
2026-01-02 14:07:30.109 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 2500.0 GBP in BUSINESS
2026-01-02 14:07:30.109 [vert.x-eventloop-thread-0] DEBUG c.a.loyalty.service.FxServiceClient - Fetching FX rate GBP -> USD (attempt 1)
2026-01-02 14:07:30.112 [vert.x-eventloop-thread-0] INFO  c.a.loyalty.service.FxServiceClient - FX rate retrieved: GBP -> USD = 1.27
2026-01-02 14:07:30.112 [vert.x-eventloop-thread-0] DEBUG c.a.l.service.PromoServiceClient - Fetching promo details for code: WINTER25
2026-01-02 14:07:30.114 [vert.x-eventloop-thread-0] INFO  c.a.l.service.PromoServiceClient - Promo details retrieved: WINTER25
2026-01-02 14:07:30.115 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 108 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.115 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 5079 total points
2026-01-02 14:07:30.153 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53435
2026-01-02 14:07:30.153 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53438
2026-01-02 14:07:30.160 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 150000.0 JPY in FIRST
2026-01-02 14:07:30.160 [vert.x-eventloop-thread-0] DEBUG c.a.loyalty.service.FxServiceClient - Fetching FX rate JPY -> USD (attempt 1)
2026-01-02 14:07:30.163 [vert.x-eventloop-thread-0] INFO  c.a.loyalty.service.FxServiceClient - FX rate retrieved: JPY -> USD = 0.0067
2026-01-02 14:07:30.163 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 106 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.163 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1507 total points
2026-01-02 14:07:30.189 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53441
2026-01-02 14:07:30.189 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53444
2026-01-02 14:07:30.195 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0  in ECONOMY
2026-01-02 14:07:30.195 [vert.x-eventloop-thread-0] WARN  c.a.l.handler.PointsQuoteHandler - Validation error: Invalid currency code
2026-01-02 14:07:30.195 [vert.x-eventloop-thread-0] WARN  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "POST /v1/points/quote HTTP/1.1" 400 104 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.214 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53446
2026-01-02 14:07:30.214 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53449
2026-01-02 14:07:30.220 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 500.0 USD in ECONOMY
2026-01-02 14:07:30.221 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 101 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.221 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 500 total points
2026-01-02 14:07:30.259 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53451
2026-01-02 14:07:30.259 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53454
2026-01-02 14:07:30.271 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:07:30.271 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.271 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:07:30.299 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53456
2026-01-02 14:07:30.300 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53459
2026-01-02 14:07:30.306 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in PREMIUM_ECONOMY
2026-01-02 14:07:30.306 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.306 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:07:30.334 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53461
2026-01-02 14:07:30.335 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53464
2026-01-02 14:07:30.341 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in BUSINESS
2026-01-02 14:07:30.341 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.341 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:07:30.374 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53466
2026-01-02 14:07:30.375 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53469
2026-01-02 14:07:30.380 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in FIRST
2026-01-02 14:07:30.381 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.381 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:07:30.409 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53471
2026-01-02 14:07:30.409 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53474
2026-01-02 14:07:30.415 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:07:30.415 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 103 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.415 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1000 total points
2026-01-02 14:07:30.437 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53476
2026-01-02 14:07:30.438 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53479
2026-01-02 14:07:30.443 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:07:30.443 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.443 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:07:30.463 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53481
2026-01-02 14:07:30.463 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53484
2026-01-02 14:07:30.468 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:07:30.469 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.469 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1300 total points
2026-01-02 14:07:30.489 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53486
2026-01-02 14:07:30.489 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53489
2026-01-02 14:07:30.495 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:07:30.495 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:07:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:07:30.495 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1500 total points
2026-01-02 14:11:27.239 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-02 14:11:27.967 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53506
2026-01-02 14:11:27.969 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53509
2026-01-02 14:11:28.721 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:11:28.735 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:28 GMT] "POST /v1/points/quote HTTP/1.1" 200 103 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:28.735 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1000 total points
2026-01-02 14:11:28.832 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53511
2026-01-02 14:11:28.832 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53514
2026-01-02 14:11:28.840 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:11:28.841 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:28 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:28.841 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1300 total points
2026-01-02 14:11:28.859 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53516
2026-01-02 14:11:28.860 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53519
2026-01-02 14:11:28.868 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:11:28.868 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:28 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:28.868 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:11:28.890 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53521
2026-01-02 14:11:28.891 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53524
2026-01-02 14:11:28.900 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 2000.0 USD in FIRST
2026-01-02 14:11:28.901 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:28 GMT] "POST /v1/points/quote HTTP/1.1" 200 106 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:28.901 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 3000 total points
2026-01-02 14:11:29.261 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53526
2026-01-02 14:11:29.262 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53529
2026-01-02 14:11:29.280 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:11:29.281 [vert.x-eventloop-thread-0] DEBUG c.a.l.service.PromoServiceClient - Fetching promo details for code: INACTIVE
2026-01-02 14:11:29.398 [vert.x-eventloop-thread-0] INFO  c.a.l.service.PromoServiceClient - Promo details retrieved: INACTIVE
2026-01-02 14:11:29.398 [vert.x-eventloop-thread-0] INFO  c.a.l.s.PointsCalculationService - Promo INACTIVE is inactive
2026-01-02 14:11:29.399 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 121 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.399 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1300 total points
2026-01-02 14:11:29.424 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53532
2026-01-02 14:11:29.424 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53535
2026-01-02 14:11:29.431 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:11:29.431 [vert.x-eventloop-thread-0] DEBUG c.a.l.service.PromoServiceClient - Fetching promo details for code: OLDPROMO
2026-01-02 14:11:29.435 [vert.x-eventloop-thread-0] INFO  c.a.l.service.PromoServiceClient - Promo details retrieved: OLDPROMO
2026-01-02 14:11:29.436 [vert.x-eventloop-thread-0] INFO  c.a.l.s.PointsCalculationService - Promo OLDPROMO has expired
2026-01-02 14:11:29.436 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 120 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.436 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:11:29.464 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53538
2026-01-02 14:11:29.464 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53541
2026-01-02 14:11:29.470 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 2000.0 USD in INVALID_CLASS
2026-01-02 14:11:29.471 [vert.x-eventloop-thread-0] WARN  c.a.l.handler.PointsQuoteHandler - Validation error: Invalid cabin class: INVALID_CLASS
2026-01-02 14:11:29.472 [vert.x-eventloop-thread-0] WARN  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 400 117 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.494 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53543
2026-01-02 14:11:29.495 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53546
2026-01-02 14:11:29.502 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 2000.0 USD in ECONOMY
2026-01-02 14:11:29.502 [vert.x-eventloop-thread-0] WARN  c.a.l.handler.PointsQuoteHandler - Validation error: Invalid customer tier: INVALID_CLASS
2026-01-02 14:11:29.502 [vert.x-eventloop-thread-0] WARN  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 400 119 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.522 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53548
2026-01-02 14:11:29.523 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53551
2026-01-02 14:11:29.530 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1234.5 USD in ECONOMY
2026-01-02 14:11:29.530 [vert.x-eventloop-thread-0] DEBUG c.a.l.service.PromoServiceClient - Fetching promo details for code: SUMMER25
2026-01-02 14:11:29.533 [vert.x-eventloop-thread-0] INFO  c.a.l.service.PromoServiceClient - Promo details retrieved: SUMMER25
2026-01-02 14:11:29.534 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 107 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.534 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1727 total points
2026-01-02 14:11:29.579 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53554
2026-01-02 14:11:29.579 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53557
2026-01-02 14:11:29.586 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:11:29.586 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.586 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:11:29.605 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53559
2026-01-02 14:11:29.606 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53562
2026-01-02 14:11:29.612 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:11:29.612 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 103 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.613 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1000 total points
2026-01-02 14:11:29.636 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53564
2026-01-02 14:11:29.637 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53567
2026-01-02 14:11:29.644 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 EUR in BUSINESS
2026-01-02 14:11:29.644 [vert.x-eventloop-thread-0] DEBUG c.a.loyalty.service.FxServiceClient - Fetching FX rate EUR -> USD (attempt 1)
2026-01-02 14:11:29.652 [vert.x-eventloop-thread-0] INFO  c.a.loyalty.service.FxServiceClient - FX rate retrieved: EUR -> USD = 1.1
2026-01-02 14:11:29.653 [vert.x-eventloop-thread-0] DEBUG c.a.l.service.PromoServiceClient - Fetching promo details for code: NONE
2026-01-02 14:11:29.655 [vert.x-eventloop-thread-0] INFO  c.a.l.service.PromoServiceClient - Promo code not found: NONE
2026-01-02 14:11:29.656 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.656 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1430 total points
2026-01-02 14:11:29.695 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53571
2026-01-02 14:11:29.695 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53574
2026-01-02 14:11:29.701 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 EUR in ECONOMY
2026-01-02 14:11:29.701 [vert.x-eventloop-thread-0] DEBUG c.a.loyalty.service.FxServiceClient - Fetching FX rate EUR -> USD (attempt 1)
2026-01-02 14:11:29.704 [vert.x-eventloop-thread-0] WARN  c.a.loyalty.service.FxServiceClient - FX service call failed, retrying... (FX service returned status 500)
2026-01-02 14:11:29.704 [vert.x-eventloop-thread-0] DEBUG c.a.loyalty.service.FxServiceClient - Fetching FX rate EUR -> USD (attempt 2)
2026-01-02 14:11:29.706 [vert.x-eventloop-thread-0] WARN  c.a.loyalty.service.FxServiceClient - FX service call failed, retrying... (FX service returned status 500)
2026-01-02 14:11:29.706 [vert.x-eventloop-thread-0] DEBUG c.a.loyalty.service.FxServiceClient - Fetching FX rate EUR -> USD (attempt 3)
2026-01-02 14:11:29.707 [vert.x-eventloop-thread-0] ERROR c.a.loyalty.service.FxServiceClient - FX service call failed after 3 attempts
com.airline.loyalty.exception.ExternalServiceException: FX service returned status 500
	at com.airline.loyalty.service.FxServiceClient.lambda$getExchangeRateWithRetry$0(FxServiceClient.java:66)
	at io.vertx.core.impl.future.Composition.onSuccess(Composition.java:38)
	at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:66)
	at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:246)
	at io.vertx.core.impl.future.PromiseImpl.onSuccess(PromiseImpl.java:49)
	at io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:41)
	at io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:23)
	at io.vertx.ext.web.client.impl.HttpContext.handleDispatchResponse(HttpContext.java:397)
	at io.vertx.ext.web.client.impl.HttpContext.execute(HttpContext.java:384)
	at io.vertx.ext.web.client.impl.HttpContext.next(HttpContext.java:362)
	at io.vertx.ext.web.client.impl.HttpContext.fire(HttpContext.java:329)
	at io.vertx.ext.web.client.impl.HttpContext.dispatchResponse(HttpContext.java:291)
	at io.vertx.ext.web.client.impl.HttpContext.lambda$null$7(HttpContext.java:507)
	at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:276)
	at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:258)
	at io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:56)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-01-02 14:11:29.709 [vert.x-eventloop-thread-0] ERROR c.a.l.handler.PointsQuoteHandler - Unexpected error processing points quote
com.airline.loyalty.exception.ExternalServiceException: Failed to fetch exchange rate after 3 attempts
	at com.airline.loyalty.service.FxServiceClient.lambda$getExchangeRateWithRetry$1(FxServiceClient.java:77)
	at io.vertx.core.impl.future.Composition.onFailure(Composition.java:50)
	at io.vertx.core.impl.future.FutureBase.emitFailure(FutureBase.java:81)
	at io.vertx.core.impl.future.FutureImpl.tryFail(FutureImpl.java:265)
	at io.vertx.core.impl.future.Composition$1.onFailure(Composition.java:66)
	at io.vertx.core.impl.future.FutureBase.emitFailure(FutureBase.java:81)
	at io.vertx.core.impl.future.FailedFuture.addListener(FailedFuture.java:98)
	at io.vertx.core.impl.future.Composition.onSuccess(Composition.java:43)
	at io.vertx.core.impl.future.FutureBase.emitSuccess(FutureBase.java:66)
	at io.vertx.core.impl.future.FutureImpl.tryComplete(FutureImpl.java:246)
	at io.vertx.core.impl.future.PromiseImpl.onSuccess(PromiseImpl.java:49)
	at io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:41)
	at io.vertx.core.impl.future.PromiseImpl.handle(PromiseImpl.java:23)
	at io.vertx.ext.web.client.impl.HttpContext.handleDispatchResponse(HttpContext.java:397)
	at io.vertx.ext.web.client.impl.HttpContext.execute(HttpContext.java:384)
	at io.vertx.ext.web.client.impl.HttpContext.next(HttpContext.java:362)
	at io.vertx.ext.web.client.impl.HttpContext.fire(HttpContext.java:329)
	at io.vertx.ext.web.client.impl.HttpContext.dispatchResponse(HttpContext.java:291)
	at io.vertx.ext.web.client.impl.HttpContext.lambda$null$7(HttpContext.java:507)
	at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:276)
	at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:258)
	at io.vertx.core.impl.ContextInternal.lambda$runOnContext$0(ContextInternal.java:56)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:566)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.airline.loyalty.exception.ExternalServiceException: FX service returned status 500
	at com.airline.loyalty.service.FxServiceClient.lambda$getExchangeRateWithRetry$0(FxServiceClient.java:66)
	at io.vertx.core.impl.future.Composition.onSuccess(Composition.java:38)
	... 22 common frames omitted
2026-01-02 14:11:29.710 [vert.x-eventloop-thread-0] ERROR i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 500 122 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.730 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53577
2026-01-02 14:11:29.731 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53580
2026-01-02 14:11:29.743 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "GET /health HTTP/1.1" 200 41 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.769 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53582
2026-01-02 14:11:29.770 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53585
2026-01-02 14:11:29.775 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 0.0 USD in ECONOMY
2026-01-02 14:11:29.776 [vert.x-eventloop-thread-0] WARN  c.a.l.handler.PointsQuoteHandler - Validation error: Fare amount must be greater than zero
2026-01-02 14:11:29.776 [vert.x-eventloop-thread-0] WARN  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 400 120 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.796 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53587
2026-01-02 14:11:29.796 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53590
2026-01-02 14:11:29.803 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 2500.0 GBP in BUSINESS
2026-01-02 14:11:29.803 [vert.x-eventloop-thread-0] DEBUG c.a.loyalty.service.FxServiceClient - Fetching FX rate GBP -> USD (attempt 1)
2026-01-02 14:11:29.806 [vert.x-eventloop-thread-0] INFO  c.a.loyalty.service.FxServiceClient - FX rate retrieved: GBP -> USD = 1.27
2026-01-02 14:11:29.806 [vert.x-eventloop-thread-0] DEBUG c.a.l.service.PromoServiceClient - Fetching promo details for code: WINTER25
2026-01-02 14:11:29.808 [vert.x-eventloop-thread-0] INFO  c.a.l.service.PromoServiceClient - Promo details retrieved: WINTER25
2026-01-02 14:11:29.809 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 108 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.809 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 5079 total points
2026-01-02 14:11:29.844 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53594
2026-01-02 14:11:29.845 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53597
2026-01-02 14:11:29.851 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 150000.0 JPY in FIRST
2026-01-02 14:11:29.851 [vert.x-eventloop-thread-0] DEBUG c.a.loyalty.service.FxServiceClient - Fetching FX rate JPY -> USD (attempt 1)
2026-01-02 14:11:29.854 [vert.x-eventloop-thread-0] INFO  c.a.loyalty.service.FxServiceClient - FX rate retrieved: JPY -> USD = 0.0067
2026-01-02 14:11:29.855 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 106 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.855 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1507 total points
2026-01-02 14:11:29.880 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53600
2026-01-02 14:11:29.880 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53603
2026-01-02 14:11:29.886 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0  in ECONOMY
2026-01-02 14:11:29.886 [vert.x-eventloop-thread-0] WARN  c.a.l.handler.PointsQuoteHandler - Validation error: Invalid currency code
2026-01-02 14:11:29.886 [vert.x-eventloop-thread-0] WARN  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 400 104 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.904 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53605
2026-01-02 14:11:29.904 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53608
2026-01-02 14:11:29.910 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 500.0 USD in ECONOMY
2026-01-02 14:11:29.910 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 101 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.910 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 500 total points
2026-01-02 14:11:29.946 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53610
2026-01-02 14:11:29.947 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53613
2026-01-02 14:11:29.957 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:11:29.957 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.957 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:11:29.985 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53615
2026-01-02 14:11:29.985 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53618
2026-01-02 14:11:29.991 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in PREMIUM_ECONOMY
2026-01-02 14:11:29.991 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:29 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:29.991 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:11:30.020 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53620
2026-01-02 14:11:30.020 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53623
2026-01-02 14:11:30.026 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in BUSINESS
2026-01-02 14:11:30.027 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:30.027 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:11:30.054 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53625
2026-01-02 14:11:30.055 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53628
2026-01-02 14:11:30.060 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in FIRST
2026-01-02 14:11:30.061 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:30.061 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:11:30.088 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53630
2026-01-02 14:11:30.089 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53633
2026-01-02 14:11:30.097 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:11:30.098 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 103 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:30.098 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1000 total points
2026-01-02 14:11:30.118 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53635
2026-01-02 14:11:30.119 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53638
2026-01-02 14:11:30.124 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:11:30.124 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:30.124 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1150 total points
2026-01-02 14:11:30.144 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53640
2026-01-02 14:11:30.145 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53643
2026-01-02 14:11:30.150 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:11:30.150 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:30.150 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1300 total points
2026-01-02 14:11:30.170 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on localhost:53645
2026-01-02 14:11:30.171 [vert.x-eventloop-thread-0] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 53648
2026-01-02 14:11:30.175 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1000.0 USD in ECONOMY
2026-01-02 14:11:30.176 [vert.x-eventloop-thread-0] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 127.0.0.1 - - [Fri, 2 Jan 2026 14:11:30 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "Apache-HttpClient/4.5.13 (Java/21.0.9)"
2026-01-02 14:11:30.176 [vert.x-eventloop-thread-0] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1500 total points
2026-01-02 14:37:22.305 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-02 14:37:22.396 [vert.x-eventloop-thread-1] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on 0.0.0.0:8080
2026-01-02 14:37:22.398 [vert.x-eventloop-thread-1] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 9090
2026-01-02 14:37:22.398 [vert.x-eventloop-thread-0] INFO  i.v.c.i.l.c.VertxIsolatedDeployer - Succeeded in deploying verticle
2026-01-02 14:38:47.941 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-02 14:38:48.030 [vert.x-eventloop-thread-1] ERROR com.airline.loyalty.MainVerticle - Failed to start server
java.net.BindException: Address already in use
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:380)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasksFrom(SingleThreadEventExecutor.java:426)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:375)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:557)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-01-02 14:38:48.036 [vert.x-eventloop-thread-0] ERROR i.v.c.i.l.c.VertxIsolatedDeployer - Failed in deploying verticle
java.net.BindException: Address already in use
	at java.base/sun.nio.ch.Net.bind0(Native Method)
	at java.base/sun.nio.ch.Net.bind(Net.java:565)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.netBind(ServerSocketChannelImpl.java:344)
	at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:301)
	at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:141)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)
	at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:600)
	at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:579)
	at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)
	at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)
	at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:380)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasksFrom(SingleThreadEventExecutor.java:426)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:375)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:557)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2026-01-02 14:39:03.665 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-02 14:39:03.756 [vert.x-eventloop-thread-1] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on 0.0.0.0:8080
2026-01-02 14:39:03.758 [vert.x-eventloop-thread-1] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 9090
2026-01-02 14:39:03.758 [vert.x-eventloop-thread-0] INFO  i.v.c.i.l.c.VertxIsolatedDeployer - Succeeded in deploying verticle
2026-01-02 14:51:25.804 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1234.5 USD in ECONOMY
2026-01-02 14:51:25.806 [vert.x-eventloop-thread-1] DEBUG c.a.l.service.PromoServiceClient - Fetching promo details for code: SUMMER25
2026-01-02 14:51:25.933 [vert.x-eventloop-thread-1] WARN  c.a.l.service.PromoServiceClient - Promo service call failed, continuing without promo: Connection refused: localhost/127.0.0.1:443
2026-01-02 14:51:25.944 [vert.x-eventloop-thread-1] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 0:0:0:0:0:0:0:1 - - [Fri, 2 Jan 2026 14:51:25 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "PostmanRuntime/7.51.0"
2026-01-02 14:51:25.944 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1419 total points
2026-01-02 14:51:32.633 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 0.0 USD in ECONOMY
2026-01-02 14:51:32.633 [vert.x-eventloop-thread-1] WARN  c.a.l.handler.PointsQuoteHandler - Validation error: Fare amount must be greater than zero
2026-01-02 14:51:32.646 [vert.x-eventloop-thread-1] WARN  i.v.e.w.h.impl.LoggerHandlerImpl - 0:0:0:0:0:0:0:1 - - [Fri, 2 Jan 2026 14:51:32 GMT] "POST /v1/points/quote HTTP/1.1" 400 120 "-" "PostmanRuntime/7.51.0"
2026-01-02 14:51:40.184 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 45000.0 USD in BUSINESS
2026-01-02 14:51:40.185 [vert.x-eventloop-thread-1] DEBUG c.a.l.service.PromoServiceClient - Fetching promo details for code: SUMMER25
2026-01-02 14:51:40.188 [vert.x-eventloop-thread-1] WARN  c.a.l.service.PromoServiceClient - Promo service call failed, continuing without promo: Connection refused: localhost/127.0.0.1:443
2026-01-02 14:51:40.189 [vert.x-eventloop-thread-1] INFO  c.a.l.s.PointsCalculationService - Points capped: 51750 -> 50000
2026-01-02 14:51:40.191 [vert.x-eventloop-thread-1] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 0:0:0:0:0:0:0:1 - - [Fri, 2 Jan 2026 14:51:40 GMT] "POST /v1/points/quote HTTP/1.1" 200 130 "-" "PostmanRuntime/7.51.0"
2026-01-02 14:51:40.191 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 50000 total points
2026-01-02 14:51:47.872 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1234.5 USD in ECONOMY
2026-01-02 14:51:47.873 [vert.x-eventloop-thread-1] DEBUG c.a.l.service.PromoServiceClient - Fetching promo details for code: SUMMER25
2026-01-02 14:51:47.876 [vert.x-eventloop-thread-1] WARN  c.a.l.service.PromoServiceClient - Promo service call failed, continuing without promo: Connection refused: localhost/127.0.0.1:443
2026-01-02 14:51:47.881 [vert.x-eventloop-thread-1] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 0:0:0:0:0:0:0:1 - - [Fri, 2 Jan 2026 14:51:47 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "PostmanRuntime/7.51.0"
2026-01-02 14:51:47.881 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1604 total points
2026-01-02 14:51:52.779 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1234.5  in ECONOMY
2026-01-02 14:51:52.781 [vert.x-eventloop-thread-1] WARN  c.a.l.handler.PointsQuoteHandler - Validation error: Invalid currency code
2026-01-02 14:51:52.787 [vert.x-eventloop-thread-1] WARN  i.v.e.w.h.impl.LoggerHandlerImpl - 0:0:0:0:0:0:0:1 - - [Fri, 2 Jan 2026 14:51:52 GMT] "POST /v1/points/quote HTTP/1.1" 400 104 "-" "PostmanRuntime/7.51.0"
2026-01-02 14:52:00.387 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1234.5 USD in PREMIUM
2026-01-02 14:52:00.388 [vert.x-eventloop-thread-1] WARN  c.a.l.handler.PointsQuoteHandler - Validation error: Invalid cabin class: PREMIUM
2026-01-02 14:52:00.390 [vert.x-eventloop-thread-1] WARN  i.v.e.w.h.impl.LoggerHandlerImpl - 0:0:0:0:0:0:0:1 - - [Fri, 2 Jan 2026 14:52:00 GMT] "POST /v1/points/quote HTTP/1.1" 400 111 "-" "PostmanRuntime/7.51.0"
2026-01-02 14:52:09.976 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1234.5 USD in ECONOMY
2026-01-02 14:52:09.977 [vert.x-eventloop-thread-1] WARN  c.a.l.handler.PointsQuoteHandler - Validation error: Invalid customer tier: BASIC
2026-01-02 14:52:09.984 [vert.x-eventloop-thread-1] WARN  i.v.e.w.h.impl.LoggerHandlerImpl - 0:0:0:0:0:0:0:1 - - [Fri, 2 Jan 2026 14:52:09 GMT] "POST /v1/points/quote HTTP/1.1" 400 111 "-" "PostmanRuntime/7.51.0"
2026-01-02 14:52:19.009 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1234.0 USD in BUSINESS
2026-01-02 14:52:19.012 [vert.x-eventloop-thread-1] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 0:0:0:0:0:0:0:1 - - [Fri, 2 Jan 2026 14:52:19 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "PostmanRuntime/7.51.0"
2026-01-02 14:52:19.013 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1419 total points
2026-01-02 14:52:28.644 [vert.x-eventloop-thread-1] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 0:0:0:0:0:0:0:1 - - [Fri, 2 Jan 2026 14:52:28 GMT] "GET /health HTTP/1.1" 200 41 "-" "PostmanRuntime/7.51.0"
2026-01-02 14:52:37.304 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 1234.0 USD in BUSINESS
2026-01-02 14:52:37.307 [vert.x-eventloop-thread-1] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 0:0:0:0:0:0:0:1 - - [Fri, 2 Jan 2026 14:52:37 GMT] "POST /v1/points/quote HTTP/1.1" 200 105 "-" "PostmanRuntime/7.51.0"
2026-01-02 14:52:37.307 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 1419 total points
2026-01-02 17:07:56.607 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-02 17:07:56.718 [vert.x-eventloop-thread-1] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on 0.0.0.0:8080
2026-01-02 17:07:56.719 [vert.x-eventloop-thread-1] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 9090
2026-01-02 17:07:56.719 [vert.x-eventloop-thread-0] INFO  i.v.c.i.l.c.VertxIsolatedDeployer - Succeeded in deploying verticle
2026-01-02 17:18:45.094 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-02 17:18:45.192 [vert.x-eventloop-thread-1] INFO  com.airline.loyalty.MainVerticle - Points Quote Service listening on 0.0.0.0:8080
2026-01-02 17:18:45.193 [vert.x-eventloop-thread-1] INFO  com.airline.loyalty.MainVerticle - Metrics server listening on port 9090
2026-01-02 17:18:45.193 [vert.x-eventloop-thread-0] INFO  i.v.c.i.l.c.VertxIsolatedDeployer - Succeeded in deploying verticle
2026-01-02 17:19:02.276 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Processing points quote request for 45000.0 USD in BUSINESS
2026-01-02 17:19:02.278 [vert.x-eventloop-thread-1] DEBUG c.a.l.service.PromoServiceClient - Fetching promo details for code: SUMMER25
2026-01-02 17:19:02.415 [vert.x-eventloop-thread-1] WARN  c.a.l.service.PromoServiceClient - Promo service call failed, continuing without promo: Connection refused: localhost/127.0.0.1:443
2026-01-02 17:19:02.415 [vert.x-eventloop-thread-1] INFO  c.a.l.s.PointsCalculationService - Points capped: 51750 -> 50000
2026-01-02 17:19:02.426 [vert.x-eventloop-thread-1] INFO  i.v.e.w.h.impl.LoggerHandlerImpl - 0:0:0:0:0:0:0:1 - - [Fri, 2 Jan 2026 17:19:02 GMT] "POST /v1/points/quote HTTP/1.1" 200 130 "-" "PostmanRuntime/7.51.0"
2026-01-02 17:19:02.426 [vert.x-eventloop-thread-1] INFO  c.a.l.handler.PointsQuoteHandler - Points quote successful: 50000 total points
